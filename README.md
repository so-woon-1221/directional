# Directional

Next.js로 구축된 현대적인 웹 애플리케이션으로, 게시글 관리 시스템과 인터랙티브한 데이터 시각화 대시보드를 제공합니다.

## 🚀 주요 기능

### 📝 게시글 관리
- **서버 사이드 데이터 페칭**: 모든 게시글 데이터는 Next.js Server Components를 사용하여 안전하고 효율적으로 가져옵니다
- **무한 스크롤**: 커서 기반 네비게이션으로 부드러운 페이지네이션 제공
- **고급 필터링**: 검색, 카테고리 필터링, 날짜 범위 선택 기능
- **실시간 업데이트**: React Query를 활용한 최적의 데이터 동기화

### 📊 인터랙티브 차트 대시보드
- **커스텀 차트 라이브러리**: 유연성과 성능을 위해 설계된 직접 만든 차트 라이브러리 `sowoon-chart`로 구축
- **다양한 차트 타입**: 바 차트, 파이 차트, 라인 차트, 트리맵 등
- **인터랙티브 시각화**: 호버 효과, 툴팁, 동적 색상 커스터마이징
- **서버 사이드 데이터 로딩**: 최적의 성능을 위해 서버에서 차트 데이터를 미리 가져옵니다

## 🛡️ 보안 및 아키텍처

### 향상된 보안을 위한 Server Components

이 프로젝트는 **Next.js Server Components**를 활용하여 모든 데이터를 서버 사이드에서 가져옴으로써, 상당한 보안 및 성능 이점을 제공합니다:

#### 🔒 보안 이점

1. **CORS 보호**: 서버에서 데이터를 가져옴으로써 CORS 관련 취약점을 제거합니다. API 키, 토큰, 민감한 자격 증명이 클라이언트 사이드 코드에 도달하지 않아 브라우저 기반 공격으로부터의 노출을 방지합니다.

2. **클라이언트 사이드 API 노출 없음**: 백엔드 API 엔드포인트가 브라우저에 노출되지 않아 악의적인 사용자가 다음을 수행할 수 없습니다:
   - API 요청 가로채기
   - 요청 매개변수 조작
   - 무단 엔드포인트 접근
   - API 키 또는 토큰 추출

3. **안전한 인증**: 인증 토큰은 보안 HTTP-only 쿠키를 사용하여 서버 사이드에서 처리되며, XSS 공격 및 토큰 도난을 방지합니다.

4. **요청 검증**: 서버 사이드 데이터 페칭을 통해 외부 API에 도달하기 전에 포괄적인 요청 검증 및 정제가 가능합니다.

#### ⚡ 성능 이점

- **클라이언트 번들 크기 감소**: 데이터 페칭 로직이 서버에 유지됩니다
- **더 빠른 초기 로드**: 서버 사이드 렌더링 중에 데이터를 가져옵니다
- **더 나은 SEO**: 콘텐츠가 검색 엔진에 즉시 사용 가능합니다
- **최적화된 네트워크 요청**: 서버 간 통신이 일반적으로 더 빠르고 안정적입니다

### 구현 방식

모든 데이터 페칭은 `"use server"`로 표시된 Server Actions를 통해 수행됩니다:

```typescript
// 예시: 서버 사이드 데이터 페칭
"use server";

export const fetchPosts = async (params?: PostQueryParams) => {
  const response = await serverFetch<Post[]>(`/posts?${searchParams}`);
  return unwrapResult(response);
};
```

`serverFetch` 유틸리티는 다음을 처리합니다:
- 보안 쿠키 기반 인증
- 오류 처리 및 정규화
- 타입 안전한 API 응답
- 백엔드 URL 구성

## 📦 커스텀 차트 라이브러리: sowoon-chart

차트 대시보드는 **sowoon-chart**를 사용하여 구축되었으며, 이 커스텀 차트 라이브러리는 다음을 제공합니다:

- **유연한 차트 컴포넌트**: 사용하기 쉬운, 구성 가능한 차트 컴포넌트
- **커스터마이징 가능한 스타일링**: 색상, 애니메이션, 인터랙션에 대한 완전한 제어
- **타입 안전성**: 더 나은 개발자 경험을 위해 TypeScript로 구축
- **성능 최적화**: 대용량 데이터셋을 위한 효율적인 렌더링

### 차트 기능

- **바 차트**: 그룹화 및 스택형 바 시각화
- **파이 차트**: 인터랙티브한 파이 및 도넛 차트
- **라인 차트**: 커스텀 툴팁이 있는 다중 시리즈 라인 차트
- **트리맵**: 계층적 데이터 시각화
- **복합 차트**: 복잡한 다중 차트 조합

각 차트는 다음을 지원합니다:
- 동적 색상 커스터마이징
- 시리즈 표시/숨김 토글
- 인터랙티브 툴팁
- 반응형 디자인

## 🏗️ 프로젝트 구조

```
directional/
├── app/
│   ├── posts/          # 게시글 관리 페이지
│   │   ├── [id]/       # 개별 게시글 페이지
│   │   └── new/        # 새 게시글 작성
│   └── chart/          # 차트 대시보드 페이지
├── components/
│   ├── features/
│   │   ├── posts/      # 게시글 관련 컴포넌트
│   │   └── chart/      # sowoon-chart를 사용하는 차트 컴포넌트
│   └── layout/         # 레이아웃 컴포넌트
├── utils/
│   ├── serverFetch.ts  # 서버 사이드 fetch 유틸리티
│   └── error.ts        # 오류 처리 유틸리티
└── components.json     # 컴포넌트 설정
```

## 🛠️ 기술 스택

- **프레임워크**: Next.js 16.1.1 (App Router)
- **UI 라이브러리**: React 19.2.3
- **스타일링**: Tailwind CSS 4
- **데이터 페칭**: 
  - Next.js Server Components
  - 클라이언트 사이드 상태 관리를 위한 TanStack Query (React Query)
- **차트**: sowoon-chart (커스텀 라이브러리)
- **폼 처리**: React Hook Form + Zod
- **상태 관리**: React Query
- **코드 품질**: Biome (린팅 및 포맷팅)

## 🚦 시작하기

### 필수 요구사항

- Node.js 20 이상
- npm, yarn, pnpm 또는 bun

### 설치

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev
```

애플리케이션을 보려면 [http://localhost:3000](http://localhost:3000)을 열어주세요.

### 사용 가능한 스크립트

```bash
npm run dev      # 개발 서버 시작
npm run build    # 프로덕션 빌드
npm run start    # 프로덕션 서버 시작
npm run lint     # 린터 실행
npm run format   # 코드 포맷팅
```

## 📄 페이지

### `/login`
안전한 인증을 위한 로그인 페이지:
- **React Hook Form**: 폼 상태 관리 및 유효성 검사
- **Zod 스키마 검증**: 타입 안전한 폼 데이터 검증
- **서버 사이드 인증**: Server Actions를 통한 안전한 로그인 처리
- **HTTP-only 쿠키**: XSS 공격 방지를 위한 안전한 토큰 저장
- **자동 리다이렉트**: 로그인 성공 시 게시글 페이지로 이동 

### `/posts`
게시글 관리 페이지 기능:
- 무한 스크롤이 있는 목록 보기
- 검색 및 필터링 기능
- 카테고리 기반 필터링
- 날짜 범위 선택
- 정렬 및 순서 옵션

### `/chart`
sowoon-chart로 구축된 다양한 데이터 시각화를 보여주는 인터랙티브 차트 대시보드:
- 주간 기분 트렌드
- 인기 스낵 브랜드
- 운동 통계
- 커피 소비 분석
- 기타...

## 🔐 환경 변수

`.env.local` 파일을 생성하세요:

```env
BACKEND_URL=https://your-backend-url.com
```

## 📝 라이선스

이 프로젝트는 비공개이며 독점적입니다.

---

Next.js와 sowoon-chart로 ❤️를 담아 구축했습니다
